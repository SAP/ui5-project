{
	"$schema": "http://json-schema.org/draft-07/schema",
	"$id": "http://ui5.sap/schema/specVersion/2.0/kind/project.json",

	"type": "object",
	"required": ["specVersion", "type", "metadata"],
	"properties": {
		"specVersion": { "enum": ["2.0"] },
		"kind": {
			"enum": ["project", null]
		},
		"type": {
			"enum": [
				"application",
				"library",
				"theme-library",
				"module"
			]
		},
		"metadata": {
			"$ref": "../../../ui5.json#/definitions/metadata"
		}
	},
	"if": {
		"properties": {
			"type": {"const": "application"}
		}
	},
	"then": {
		"$ref": "project/application.json"
	},
	"else": {
		"if": {
			"properties": {
				"type": {"const": "library"}
			}
		},
		"then": {
			"$ref": "project/library.json"
		},
		"else": {
			"if": {
				"properties": {
					"type": {"const": "theme-library"}
				}
			},
			"then": {
				"$ref": "project/theme-library.json"
			},
			"else": {
				"if": {
					"properties": {
						"type": {"const": "module"}
					}
				},
				"then": {
					"$ref": "project/module.json"
				}
			}
		}
	},

	"definitions": {
		"resources-configuration-propertiesFileSourceEncoding": {
			"enum": ["UTF-8", "ISO-8859-1"],
			"default": "ISO-8859-1",
			"title": "Encoding of *.properties files",
			"description": "By default, the UI5 Tooling expects *.properties files to be ISO-8859-1 encoded."
		},
		"server": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"settings": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"httpPort": {
							"type": "number"
						},
						"httpsPort": {
							"type": "number"
						}
					}
				},
				"customMiddleware": {
					"__comment": "TODO: not documented in general configuration page",
					"type": "array",
					"items": {
						"oneOf": [
							{
								"type": "object",
								"additionalProperties": false,
								"required": ["name", "beforeMiddleware"],
								"properties": {
									"name": {
										"type": "string"
									},
									"mountPath": {
										"type": "string"
									},
									"beforeMiddleware": {
										"type": "string",
										"__comment": "TODO: enum?"
									},
									"configuration": {}
								}
							},
							{
								"type": "object",
								"additionalProperties": false,
								"required": ["name", "afterMiddleware"],
								"properties": {
									"name": {
										"type": "string"
									},
									"mountPath": {
										"type": "string"
									},
									"afterMiddleware": {
										"type": "string",
										"__comment": "TODO: enum?"
									},
									"configuration": {}
								}
							}
						]
					}
				}
			}
		},
		"framework": {
			"type": "object",
			"additionalProperties": false,
			"required": ["name", "version"],
			"properties": {
				"name": {
					"enum": ["OpenUI5", "SAPUI5"]
				},
				"version": {
					"type": "string",
					"pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
					"title": "Version",
					"description": "Framework version to use in this project. For example \"1.76.0\""
				},
				"libraries": {
					"type": "array",
					"items": {
						"type": "object",
						"additionalProperties": false,
						"required": ["name"],
						"properties": {
							"name": {
								"type": "string"
							},
							"optional": {
								"type": "boolean",
								"default": false
							},
							"development": {
								"type": "boolean",
								"default": false
							}
						}
					}
				}
			}
		}
	}
}
